{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\nexports.shallowEqual = shallowEqual;\nexports['default'] = pure;\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _tcomb = require('tcomb');\n\nvar _tcomb2 = _interopRequireDefault(_tcomb);\n\nvar _isReactComponent = require('../isReactComponent');\n\nvar _isReactComponent2 = _interopRequireDefault(_isReactComponent);\n\nvar _debug = require('debug');\n\nvar _debug2 = _interopRequireDefault(_debug);\n\nvar log = _debug2['default']('revenge:@pure'); // export for tests\n\n\nfunction shallowEqual(objA, objB, section, component) {\n  if (objA === objB) {\n    return true;\n  }\n\n  var displayName = component.constructor.name;\n  var rootNodeID = (component._reactInternalInstance || {})._rootNodeID;\n\n  if (!objA || typeof objA !== 'object') {\n    // the opposite should never happen here, since we are using this as\n    // `shallowEqual(prevProps, nextProps)` or `shallowEqual(prevState, nextState)`\n    if (process.env.NODE_ENV !== 'production') {\n      log('component ' + displayName + ' with rootNodeID ' + rootNodeID + ' will re-render since object has no previous value');\n    }\n\n    return false;\n  }\n\n  var key = undefined; // Test for A's keys different from B.\n\n  for (key in objA) {\n    if (objA.hasOwnProperty(key) && (!objB.hasOwnProperty(key) || objA[key] !== objB[key])) {\n      if (process.env.NODE_ENV !== 'production') {\n        log('component ' + displayName + ' with rootNodeID ' + rootNodeID + ' will re-render since ' + section + ' key ' + key + ' is changed from ', objA[key], ' to ', objB[key]);\n      }\n\n      return false;\n    }\n  } // Test for B's keys missing from A.\n\n\n  for (key in objB) {\n    if (objB.hasOwnProperty(key) && !objA.hasOwnProperty(key)) {\n      if (process.env.NODE_ENV !== 'production') {\n        log('component ' + displayName + ' with rootNodeID ' + rootNodeID + ' will re-render since ' + section + ' key ' + key + ' with value ', objB[key], 'is new');\n      }\n\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction pure(Component) {\n  if (process.env.NODE_ENV !== 'production') {\n    _tcomb2['default'].assert(_isReactComponent2['default'](Component), '@pure decorator can only be applied to React.Component(s)');\n  }\n\n  var originalScu = Component.prototype.shouldComponentUpdate;\n\n  Component.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n    var _this = this;\n\n    var _scu = function _scu() {\n      return !shallowEqual(_this.props, nextProps, 'props', _this) || !shallowEqual(_this.state, nextState, 'state', _this);\n    };\n\n    return originalScu ? originalScu(nextProps, nextState, _scu) : _scu();\n  };\n}","map":{"version":3,"sources":["/home/aleksashaz/Aipos/Laba3React-Aipos-/node_modules/revenge/lib/decorators/pure.js"],"names":["exports","__esModule","shallowEqual","pure","_interopRequireDefault","obj","_tcomb","require","_tcomb2","_isReactComponent","_isReactComponent2","_debug","_debug2","log","objA","objB","section","component","displayName","constructor","name","rootNodeID","_reactInternalInstance","_rootNodeID","process","env","NODE_ENV","key","undefined","hasOwnProperty","Component","assert","originalScu","prototype","shouldComponentUpdate","nextProps","nextState","_this","_scu","props","state"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\nexports.shallowEqual = shallowEqual;\nexports['default'] = pure;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _tcomb = require('tcomb');\n\nvar _tcomb2 = _interopRequireDefault(_tcomb);\n\nvar _isReactComponent = require('../isReactComponent');\n\nvar _isReactComponent2 = _interopRequireDefault(_isReactComponent);\n\nvar _debug = require('debug');\n\nvar _debug2 = _interopRequireDefault(_debug);\n\nvar log = _debug2['default']('revenge:@pure');\n\n// export for tests\n\nfunction shallowEqual(objA, objB, section, component) {\n  if (objA === objB) {\n    return true;\n  }\n\n  var displayName = component.constructor.name;\n  var rootNodeID = (component._reactInternalInstance || {})._rootNodeID;\n\n  if (!objA || typeof objA !== 'object') {\n    // the opposite should never happen here, since we are using this as\n    // `shallowEqual(prevProps, nextProps)` or `shallowEqual(prevState, nextState)`\n    if (process.env.NODE_ENV !== 'production') {\n      log('component ' + displayName + ' with rootNodeID ' + rootNodeID + ' will re-render since object has no previous value');\n    }\n    return false;\n  }\n\n  var key = undefined;\n  // Test for A's keys different from B.\n  for (key in objA) {\n    if (objA.hasOwnProperty(key) && (!objB.hasOwnProperty(key) || objA[key] !== objB[key])) {\n      if (process.env.NODE_ENV !== 'production') {\n        log('component ' + displayName + ' with rootNodeID ' + rootNodeID + ' will re-render since ' + section + ' key ' + key + ' is changed from ', objA[key], ' to ', objB[key]);\n      }\n      return false;\n    }\n  }\n  // Test for B's keys missing from A.\n  for (key in objB) {\n    if (objB.hasOwnProperty(key) && !objA.hasOwnProperty(key)) {\n      if (process.env.NODE_ENV !== 'production') {\n        log('component ' + displayName + ' with rootNodeID ' + rootNodeID + ' will re-render since ' + section + ' key ' + key + ' with value ', objB[key], 'is new');\n      }\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction pure(Component) {\n\n  if (process.env.NODE_ENV !== 'production') {\n    _tcomb2['default'].assert(_isReactComponent2['default'](Component), '@pure decorator can only be applied to React.Component(s)');\n  }\n\n  var originalScu = Component.prototype.shouldComponentUpdate;\n\n  Component.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n    var _this = this;\n\n    var _scu = function _scu() {\n      return !shallowEqual(_this.props, nextProps, 'props', _this) || !shallowEqual(_this.state, nextState, 'state', _this);\n    };\n    return originalScu ? originalScu(nextProps, nextState, _scu) : _scu();\n  };\n}"]},"metadata":{},"sourceType":"script"}