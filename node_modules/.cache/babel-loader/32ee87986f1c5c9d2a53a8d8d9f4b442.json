{"ast":null,"code":"var _jsxFileName = \"/home/aleksashaz/Aipos/Laba3React-Aipos-/src/components/transport/TransportList.js\";\nimport React from 'react';\nimport Transport from './Transport';\nimport CommonRequests from '../../requests/commonRequests';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\n\nclass TransportList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.update = input_id => {\n      CommonRequests.deleteTransport(input_id).then(res => {\n        this.setState({\n          transports: res\n        });\n      });\n    };\n\n    this.state = {\n      transports: null\n    };\n  }\n\n  componentDidMount() {\n    CommonRequests.getAllTransports().then(res => {\n      this.setState({\n        transports: res\n      });\n    });\n  }\n\n  componentWillMount() {\n    CommonRequests.getAllTransports().then(res => {\n      this.setState({\n        transports: res\n      });\n    });\n  }\n\n  // updatenew = () => {\n  //   CommonRequests.getAllTransports()\n  //     .then(res => {\n  //       this.setState({ transports: res })\n  //     });\n  // }\n  getArr(arr) {\n    if (arr) {\n      return arr.map(el => React.createElement(Transport, Object.assign({\n        name: el.name,\n        capacity: el.capacity,\n        id: el.id,\n        type: el.type.description,\n        update: this.update // updateNew={this.updatenew}\n\n      }, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      })));\n    }\n  }\n\n  render() {\n    if (this.state.transports) {\n      var {\n        transports\n      } = this.state;\n    }\n\n    return React.createElement(\"div\", {\n      className: \"container row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, this.getArr(transports), React.createElement(\"div\", {\n      onClick: () => {\n        this.props.history.push('/transports/add');\n      },\n      className: \"card addCard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faPlus,\n      size: \"8x\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default TransportList;","map":{"version":3,"sources":["/home/aleksashaz/Aipos/Laba3React-Aipos-/src/components/transport/TransportList.js"],"names":["React","Transport","CommonRequests","FontAwesomeIcon","faPlus","TransportList","Component","constructor","props","update","input_id","deleteTransport","then","res","setState","transports","state","componentDidMount","getAllTransports","componentWillMount","getArr","arr","map","el","name","capacity","id","type","description","render","history","push"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,MAAT,QAAuB,mCAAvB;;AAEA,MAAMC,aAAN,SAA4BL,KAAK,CAACM,SAAlC,CAA4C;AAC1CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAqBnBC,MArBmB,GAqBTC,QAAD,IAAc;AACrBR,MAAAA,cAAc,CAACS,eAAf,CAA+BD,QAA/B,EACGE,IADH,CACQC,GAAG,IAAI;AACX,aAAKC,QAAL,CAAc;AAAEC,UAAAA,UAAU,EAAEF;AAAd,SAAd;AACD,OAHH;AAID,KA1BkB;;AAEjB,SAAKG,KAAL,GAAa;AACXD,MAAAA,UAAU,EAAE;AADD,KAAb;AAGD;;AAEDE,EAAAA,iBAAiB,GAAG;AAClBf,IAAAA,cAAc,CAACgB,gBAAf,GACGN,IADH,CACQC,GAAG,IAAI;AACX,WAAKC,QAAL,CAAc;AAAEC,QAAAA,UAAU,EAAEF;AAAd,OAAd;AACD,KAHH;AAID;;AAEDM,EAAAA,kBAAkB,GAAG;AACnBjB,IAAAA,cAAc,CAACgB,gBAAf,GACGN,IADH,CACQC,GAAG,IAAI;AACX,WAAKC,QAAL,CAAc;AAAEC,QAAAA,UAAU,EAAEF;AAAd,OAAd;AACD,KAHH;AAID;;AASD;AACA;AACA;AACA;AACA;AACA;AAEAO,EAAAA,MAAM,CAACC,GAAD,EAAM;AACV,QAAIA,GAAJ,EAAS;AACP,aAAOA,GAAG,CAACC,GAAJ,CAASC,EAAD,IAAQ,oBAAC,SAAD;AACrB,QAAA,IAAI,EAAEA,EAAE,CAACC,IADY;AAErB,QAAA,QAAQ,EAAED,EAAE,CAACE,QAFQ;AAGrB,QAAA,EAAE,EAAEF,EAAE,CAACG,EAHc;AAIrB,QAAA,IAAI,EAAEH,EAAE,CAACI,IAAH,CAAQC,WAJO;AAKrB,QAAA,MAAM,EAAE,KAAKnB,MALQ,CAMrB;;AANqB,SAOjB,KAAKD,KAPY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAhB,CAAP;AASD;AACF;;AAGDqB,EAAAA,MAAM,GAAG;AACP,QAAI,KAAKb,KAAL,CAAWD,UAAf,EAA2B;AACzB,UAAI;AAAEA,QAAAA;AAAF,UAAiB,KAAKC,KAA1B;AACD;;AACD,WACE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKI,MAAL,CAAYL,UAAZ,CADH,EAGE;AAAK,MAAA,OAAO,EAAE,MAAM;AAAE,aAAKP,KAAL,CAAWsB,OAAX,CAAmBC,IAAnB,CAAwB,iBAAxB;AAA6C,OAAnE;AAAqE,MAAA,SAAS,EAAC,cAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAE3B,MAAvB;AAA+B,MAAA,IAAI,EAAC,IAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAHF,CADF;AAUD;;AAjEyC;;AAoE5C,eAAeC,aAAf","sourcesContent":["import React from 'react';\r\nimport Transport from './Transport';\r\nimport CommonRequests from '../../requests/commonRequests';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\r\n\r\nclass TransportList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      transports: null,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    CommonRequests.getAllTransports()\r\n      .then(res => {\r\n        this.setState({ transports: res })\r\n      });\r\n  }\r\n\r\n  componentWillMount() {\r\n    CommonRequests.getAllTransports()\r\n      .then(res => {\r\n        this.setState({ transports: res })\r\n      });\r\n  }\r\n\r\n  update = (input_id) => {\r\n    CommonRequests.deleteTransport(input_id)\r\n      .then(res => {\r\n        this.setState({ transports: res })\r\n      });\r\n  }\r\n\r\n  // updatenew = () => {\r\n  //   CommonRequests.getAllTransports()\r\n  //     .then(res => {\r\n  //       this.setState({ transports: res })\r\n  //     });\r\n  // }\r\n\r\n  getArr(arr) {\r\n    if (arr) {\r\n      return arr.map((el) => <Transport\r\n        name={el.name}\r\n        capacity={el.capacity}\r\n        id={el.id}\r\n        type={el.type.description}\r\n        update={this.update}\r\n        // updateNew={this.updatenew}\r\n        {...this.props}\r\n      />);\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    if (this.state.transports) {\r\n      var { transports } = this.state;\r\n    }\r\n    return (\r\n      <div className=\"container row\">\r\n        {this.getArr(transports)}\r\n\r\n        <div onClick={() => { this.props.history.push('/transports/add'); }} className=\"card addCard\">\r\n          <FontAwesomeIcon icon={faPlus} size=\"8x\" />\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TransportList;"]},"metadata":{},"sourceType":"module"}